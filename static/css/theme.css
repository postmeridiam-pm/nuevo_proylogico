:root.theme-dark{--bg:#0a0f1f;--nav:#0a0f1f;--card:#0d1a2a;--accent:#00a884;--accent2:#2dd4bf;--text:#f1f5f9;--muted:#e2e8f0;--border:#1f2b3a;--danger:#ef4444;--warning:#f59e0b}
:root.theme-light{--bg:#ffffff;--nav:#ffffff;--card:#ffffff;--accent:#00a884;--accent2:#0ea5e9;--text:#0b1430;--muted:#64748b;--border:#e2e8f0;--danger:#ef4444;--warning:#f59e0b}
body{background-color:var(--bg);color:var(--text)}
.has-topbar{padding-top:4rem}
.navbar{background-color:var(--nav)!important;border-bottom:1px solid var(--border)}
.navbar .navbar-brand,.navbar .btn{color:var(--text)}
.theme-dark .navbar-light{background-color:var(--nav)!important;border-bottom:1px solid var(--border)}
.theme-dark .navbar-light .navbar-brand,.theme-dark .navbar-light .btn{color:var(--text)}
.theme-light .navbar-dark{background-color:var(--nav)!important;border-bottom:1px solid var(--border)}
.theme-light .navbar-dark .navbar-brand,.theme-light .navbar-dark .btn{color:var(--text)}
.btn-primary{background-color:var(--accent);border-color:var(--accent);color:#062020}
.btn-outline-primary{border-color:var(--accent);color:var(--accent)}
.btn-outline-primary:hover{background-color:var(--accent);color:#062020}
.btn-success{background-color:var(--accent2);border-color:var(--accent2);color:#062020}
.btn-outline-success{border-color:var(--accent2);color:var(--accent2)}
.btn-outline-success:hover{background-color:var(--accent2);color:#062020}
.btn-outline-secondary{border-color:var(--muted);color:var(--muted)}
.btn-outline-secondary:hover{background-color:var(--muted);color:#0b1430}
.btn-danger{background-color:var(--danger);border-color:var(--danger)}
.btn{transition:transform .08s ease, box-shadow .2s ease}
.btn:active{transform:translateY(1px)}
.btn-pill{border-radius:999px;padding:.5rem 1rem}
.toolbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:1rem}
.toolbar .title{font-weight:600}
.toolbar .actions{display:flex;gap:.5rem}
.card{background-color:var(--card);border:1px solid var(--border);color:var(--text)}
.card .card-header{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));border-bottom:1px solid var(--border);color:var(--text)}
.table{color:var(--text)}
.table thead{background-color:var(--nav)}
.table thead th{color:var(--text);border-bottom:1px solid var(--border)}
.table tbody tr{border-bottom:1px solid var(--border)}
.table-hover tbody tr:hover{background-color:#12223f}
.table:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.table tr:focus-visible{outline:2px solid var(--accent);outline-offset:-2px}
.theme-dark .table{background-color:#0d1a2a}
.theme-dark .table tbody tr{background-color:#102136}
.theme-dark .table tbody td{color:var(--text)}
.theme-dark .table thead th{background-color:#0d1b2a;color:var(--text)}
.theme-dark .table-hover tbody tr:hover{background-color:#17335f}
.theme-dark a{color:var(--text)}
.theme-dark a:hover{color:var(--accent)}
.theme-dark a:focus,.theme-light a:focus{outline:2px solid var(--accent);outline-offset:2px}
.theme-dark .btn-outline-secondary{border-color:var(--muted);color:var(--text)}
.theme-dark .btn-outline-secondary:hover{background-color:#334155;color:#ffffff}
.theme-dark .btn-outline-dark{border-color:var(--text);color:var(--text)}
.theme-dark .btn-outline-dark:hover{background-color:#0f1e3a;color:#ffffff}
.theme-dark .text-muted{color:#cbd5e1 !important}
.theme-dark .btn-outline-info{border-color:var(--accent2);color:#e0f2fe}
.theme-dark .btn-outline-info:hover{background-color:var(--accent2);color:#062020}
.theme-dark .btn-outline-warning{border-color:var(--warning);color:#fff3cd}
.theme-dark .btn-outline-warning:hover{background-color:var(--warning);color:#062020}
.btn:focus,.btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.form-control:focus,.form-select:focus{outline:2px solid var(--accent);outline-offset:2px}
/* Ayuda y chips */
.help-banner{background-color:#0f2142;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:12px}
.chip{display:inline-block;padding:.35rem .6rem;border-radius:999px;border:1px solid var(--border);color:var(--text);margin-right:.5rem;cursor:pointer}
.chip.active{background-color:var(--accent);border-color:var(--accent);color:#062020}
/* Modo sencillo: oculta columnas opcionales */
.simple-mode .col-optional{display:none}
.simple-mode .table td,.simple-mode .table th{padding:.5rem}
.table .badge{font-weight:500}
.form-control,.form-select,.form-check-input{background-color:#0d1f2f;color:var(--text);border:1px solid #284b73}
:root.theme-light .form-control,:root.theme-light .form-select,:root.theme-light .form-check-input{background-color:#ffffff;color:var(--text);border:1px solid var(--border)}
.form-control::placeholder{color:var(--muted)}
.theme-dark .form-control::placeholder{color:#cbd5e1}
.placeholder-white::placeholder{color:#ffffff;opacity:.85}
.form-control:focus,.form-select:focus{border-color:var(--accent);box-shadow:0 0 0 .2rem rgba(0,168,132,.2)}
.theme-dark .form-label,.theme-dark label{color:var(--text)}
.input-help{color:var(--muted);font-size:.85rem}
.breadcrumb{background:transparent}
.breadcrumb .breadcrumb-item a{color:var(--accent)}
.breadcrumb .breadcrumb-item.active{color:var(--muted)}
.alert{background-color:#0f2142;color:var(--text);border:1px solid var(--border)}
:root.theme-light .alert{background-color:#f8fafc;color:#0b1430;border:1px solid var(--border)}
.badge.bg-success{background-color:var(--accent)}
.badge.bg-info{background-color:var(--accent2)}
.badge.bg-danger{background-color:var(--danger)}
.badge.bg-secondary{background-color:#2a3648}
.modal-content{background-color:var(--card);color:var(--text);border:1px solid var(--border)}
.modal-header{border-bottom:1px solid var(--border)}
.modal-footer{border-top:1px solid var(--border)}
.theme-dark .card,.theme-dark .card-header,.theme-dark .card-footer{background-color:var(--card);color:var(--text);border-color:var(--border)}
.theme-dark .card-body{background-color:var(--card);color:var(--text)}
.theme-dark .list-group-item{background-color:var(--card);color:var(--text);border-color:var(--border)}
.theme-dark .modal-content{background-color:var(--card);color:var(--text)}
.theme-dark .breadcrumb .breadcrumb-item,.theme-dark .breadcrumb .breadcrumb-item a{color:var(--text)}

.density-compact .table thead th,.density-compact .table td{padding:.25rem .5rem;font-size:.875rem}
.density-comfortable .table thead th,.density-comfortable .table td{padding:.75rem 1rem;font-size:1rem}

.col-hidden{display:none}

.high-contrast{--bg:#000000;--nav:#000000;--card:#000000;--text:#ffffff;--muted:#e5e7eb;--border:#ffffff;--accent:#00ffcc;--accent2:#00e1ff}
.high-contrast .table-hover tbody tr:hover{background-color:#111111}
.high-contrast .btn-outline-secondary{border-color:#ffffff;color:#ffffff}
.high-contrast .btn-outline-secondary:hover{background-color:#ffffff;color:#000000}
.high-contrast .breadcrumb .breadcrumb-item a{color:#00ffcc}

@media (prefers-reduced-motion: reduce){
  *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
}
.theme-dark .container,.theme-dark .header-section{background-color:var(--bg)}
.theme-dark .table thead{background-color:var(--nav)}
