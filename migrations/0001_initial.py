# Generated by Django 5.2.8 on 2025-11-25 08:15

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='AsignacionMotoMotorista',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('fecha_asignacion', models.DateTimeField()),
                ('fecha_desasignacion', models.DateTimeField(blank=True, null=True)),
                ('kilometraje_inicio', models.PositiveIntegerField(db_comment='Kilometraje al iniciar turno')),
                ('kilometraje_fin', models.PositiveIntegerField(blank=True, db_comment='Kilometraje al finalizar turno', null=True)),
                ('activa', models.BooleanField(db_comment='Solo una asignación activa por moto')),
                ('observaciones', models.TextField(blank=True, db_comment='Notas sobre estado, incidentes, etc', null=True)),
            ],
            options={
                'db_table': 'asignacion_moto_motorista',
                'db_table_comment': 'Control temporal: qué motorista tiene qué moto en cada turno',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AsignacionMotoristaFarmacia',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('fecha_asignacion', models.DateTimeField()),
                ('fecha_desasignacion', models.DateTimeField(blank=True, null=True)),
                ('activa', models.BooleanField()),
                ('observaciones', models.TextField(blank=True, null=True)),
            ],
            options={
                'db_table': 'asignacion_motorista_farmacia',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuditoriaGeneral',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nombre_tabla', models.CharField(db_comment='Tabla donde ocurrió el evento (ej: usuario, moto)', max_length=64)),
                ('id_registro_afectado', models.CharField(db_comment='ID del registro que fue modificado (PK de la tabla original)', max_length=36)),
                ('tipo_operacion', models.CharField(max_length=6)),
                ('fecha_evento', models.DateTimeField()),
                ('datos_antiguos', models.JSONField(blank=True, db_comment='Valores ANTES del cambio (NULL para INSERT)', null=True)),
                ('datos_nuevos', models.JSONField(blank=True, db_comment='Valores DESPUÉS del cambio (NULL para DELETE)', null=True)),
            ],
            options={
                'db_table': 'auditoria_general',
                'db_table_comment': 'Auditoría inmutable de cambios en la base de datos',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150, unique=True)),
            ],
            options={
                'db_table': 'auth_group',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthGroupPermissions',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
            ],
            options={
                'db_table': 'auth_group_permissions',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthPermission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('codename', models.CharField(max_length=100)),
            ],
            options={
                'db_table': 'auth_permission',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128)),
                ('last_login', models.DateTimeField(blank=True, null=True)),
                ('is_superuser', models.IntegerField()),
                ('username', models.CharField(max_length=150, unique=True)),
                ('first_name', models.CharField(max_length=150)),
                ('last_name', models.CharField(max_length=150)),
                ('email', models.CharField(max_length=254)),
                ('is_staff', models.IntegerField()),
                ('is_active', models.IntegerField()),
                ('date_joined', models.DateTimeField()),
            ],
            options={
                'db_table': 'auth_user',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthUserGroups',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
            ],
            options={
                'db_table': 'auth_user_groups',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuthUserUserPermissions',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
            ],
            options={
                'db_table': 'auth_user_user_permissions',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AxesAccessattempt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('user_agent', models.CharField(max_length=255)),
                ('ip_address', models.CharField(blank=True, max_length=39, null=True)),
                ('username', models.CharField(blank=True, max_length=255, null=True)),
                ('http_accept', models.CharField(max_length=1025)),
                ('path_info', models.CharField(max_length=255)),
                ('attempt_time', models.DateTimeField()),
                ('get_data', models.TextField()),
                ('post_data', models.TextField()),
                ('failures_since_start', models.PositiveIntegerField()),
            ],
            options={
                'db_table': 'axes_accessattempt',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AxesAccessfailurelog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('user_agent', models.CharField(max_length=255)),
                ('ip_address', models.CharField(blank=True, max_length=39, null=True)),
                ('username', models.CharField(blank=True, max_length=255, null=True)),
                ('http_accept', models.CharField(max_length=1025)),
                ('path_info', models.CharField(max_length=255)),
                ('attempt_time', models.DateTimeField()),
                ('locked_out', models.IntegerField()),
            ],
            options={
                'db_table': 'axes_accessfailurelog',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AxesAccesslog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('user_agent', models.CharField(max_length=255)),
                ('ip_address', models.CharField(blank=True, max_length=39, null=True)),
                ('username', models.CharField(blank=True, max_length=255, null=True)),
                ('http_accept', models.CharField(max_length=1025)),
                ('path_info', models.CharField(max_length=255)),
                ('attempt_time', models.DateTimeField()),
                ('logout_time', models.DateTimeField(blank=True, null=True)),
                ('session_hash', models.CharField(max_length=64)),
            ],
            options={
                'db_table': 'axes_accesslog',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Comuna',
            fields=[
                ('id', models.SmallAutoField(primary_key=True, serialize=False)),
                ('codigo', models.CharField(db_comment='Código INE', max_length=10, unique=True)),
                ('nombre', models.CharField(max_length=80)),
                ('activo', models.BooleanField()),
            ],
            options={
                'db_table': 'comuna',
                'db_table_comment': 'Comunas de Chile',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Despacho',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('codigo_despacho', models.CharField(db_comment='ID visible: DSP-2025-000123', max_length=20, unique=True)),
                ('numero_orden_farmacia', models.CharField(blank=True, db_comment='Número de orden interna farmacia', max_length=50, null=True)),
                ('farmacia_origen_local_id', models.CharField(db_comment='local_id de localfarmacia origen', max_length=20)),
                ('farmacia_destino_local_id', models.CharField(blank=True, db_comment='local_id de localfarmacia destino (intercambios)', max_length=20, null=True)),
                ('estado', models.CharField(max_length=9)),
                ('tipo_despacho', models.CharField(max_length=27)),
                ('prioridad', models.CharField(max_length=5)),
                ('cliente_nombre', models.CharField(blank=True, max_length=100, null=True)),
                ('cliente_telefono', models.CharField(blank=True, max_length=15, null=True)),
                ('cliente_comuna_nombre', models.CharField(blank=True, db_comment='Comuna cliente (desnormalizado)', max_length=80, null=True)),
                ('destino_direccion', models.CharField(max_length=200)),
                ('destino_referencia', models.CharField(blank=True, db_comment='Referencias: "casa azul", "edificio X"', max_length=200, null=True)),
                ('destino_lat', models.DecimalField(blank=True, db_comment='GPS destino', decimal_places=7, max_digits=10, null=True)),
                ('destino_lng', models.DecimalField(blank=True, db_comment='GPS destino', decimal_places=7, max_digits=10, null=True)),
                ('destino_geolocalizacion_validada', models.BooleanField(db_comment='Si coordenadas verificadas')),
                ('tiene_receta_retenida', models.BooleanField()),
                ('numero_receta', models.CharField(blank=True, db_comment='Número único de receta médica', max_length=50, null=True)),
                ('medico_nombre', models.CharField(blank=True, db_comment='ENCRYPTED by Django: Nombre médico prescriptor', max_length=255, null=True)),
                ('medico_rut', models.CharField(blank=True, db_comment='ENCRYPTED by Django: RUT médico', max_length=100, null=True)),
                ('paciente_nombre', models.CharField(blank=True, db_comment='ENCRYPTED by Django: Nombre paciente', max_length=255, null=True)),
                ('paciente_codigo_anonimo', models.CharField(blank=True, db_comment='SHA-256 hash para reportes anónimos', max_length=64, null=True)),
                ('requiere_devolucion_receta', models.BooleanField(db_comment='Receta física debe volver')),
                ('receta_devuelta_farmacia', models.BooleanField(db_comment='Confirmación devolución')),
                ('fecha_devolucion_receta', models.DateTimeField(blank=True, null=True)),
                ('quien_recibe_receta', models.CharField(blank=True, db_comment='Empleado farmacia que recibe', max_length=100, null=True)),
                ('observaciones_receta', models.TextField(blank=True, db_comment='ENCRYPTED by Django: Notas clínicas', null=True)),
                ('descripcion_productos', models.TextField(db_comment='Detalle: "Paracetamol 500mg x2, ..."')),
                ('valor_declarado', models.DecimalField(blank=True, db_comment='Valor total en CLP', decimal_places=2, max_digits=10, null=True)),
                ('requiere_aprobacion_operadora', models.BooleanField()),
                ('aprobado_por_operadora', models.BooleanField()),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('fecha_registro', models.DateTimeField()),
                ('fecha_asignacion', models.DateTimeField(blank=True, db_comment='Cuando se asigna motorista', null=True)),
                ('fecha_salida_farmacia', models.DateTimeField(blank=True, db_comment='Motorista confirma salida', null=True)),
                ('fecha_llegada_destino', models.DateTimeField(blank=True, db_comment='Motorista confirma llegada', null=True)),
                ('fecha_completado', models.DateTimeField(blank=True, db_comment='Entrega confirmada exitosa', null=True)),
                ('fecha_anulacion', models.DateTimeField(blank=True, db_comment='Si se cancela', null=True)),
                ('tiempo_total_minutos', models.PositiveIntegerField(blank=True, db_comment='Calculado automáticamente por trigger', null=True)),
                ('receptor_nombre', models.CharField(blank=True, max_length=100, null=True)),
                ('receptor_tipo_documento', models.CharField(blank=True, max_length=13, null=True)),
                ('receptor_documento', models.CharField(blank=True, max_length=20, null=True)),
                ('receptor_relacion', models.CharField(blank=True, db_comment='Titular/Familiar/Vecino/Otro', max_length=50, null=True)),
                ('firma_digital', models.BooleanField(db_comment='Firma electrónica capturada')),
                ('hubo_incidencia', models.BooleanField()),
                ('tipo_incidencia', models.CharField(blank=True, db_comment='CLIENTE_AUSENTE, DIRECCION_INCORRECTA, etc', max_length=100, null=True)),
                ('descripcion_incidencia', models.TextField(blank=True, null=True)),
                ('tiempo_perdido_minutos', models.PositiveIntegerField(blank=True, db_comment='Tiempo adicional por incidencia', null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('motivo_anulacion', models.CharField(blank=True, max_length=500, null=True)),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'despacho',
                'db_table_comment': 'CORE: Entregas farmacéuticas. Datos salud encriptados. Geolocalización activa.',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DjangoAdminLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_time', models.DateTimeField()),
                ('object_id', models.TextField(blank=True, null=True)),
                ('object_repr', models.CharField(max_length=200)),
                ('action_flag', models.PositiveSmallIntegerField()),
                ('change_message', models.TextField()),
            ],
            options={
                'db_table': 'django_admin_log',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DjangoContentType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('app_label', models.CharField(max_length=100)),
                ('model', models.CharField(max_length=100)),
            ],
            options={
                'db_table': 'django_content_type',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DjangoMigrations',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('app', models.CharField(max_length=255)),
                ('name', models.CharField(max_length=255)),
                ('applied', models.DateTimeField()),
            ],
            options={
                'db_table': 'django_migrations',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DjangoSession',
            fields=[
                ('session_key', models.CharField(max_length=40, primary_key=True, serialize=False)),
                ('session_data', models.TextField()),
                ('expire_date', models.DateTimeField()),
            ],
            options={
                'db_table': 'django_session',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Localfarmacia',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('local_id', models.CharField(db_comment='ID original de la farmacia (756, 757, etc)', max_length=20, unique=True)),
                ('local_nombre', models.CharField(max_length=150)),
                ('local_direccion', models.CharField(max_length=250)),
                ('comuna_nombre', models.CharField(max_length=80)),
                ('localidad_nombre', models.CharField(max_length=80)),
                ('funcionamiento_hora_apertura', models.TimeField()),
                ('funcionamiento_hora_cierre', models.TimeField()),
                ('funcionamiento_dia', models.CharField(db_comment='lunes, martes, lun-vie, 24/7, etc', max_length=50)),
                ('local_telefono', models.CharField(blank=True, max_length=25, null=True)),
                ('local_lat', models.DecimalField(blank=True, db_comment='Latitud GPS', decimal_places=7, max_digits=10, null=True)),
                ('local_lng', models.DecimalField(blank=True, db_comment='Longitud GPS', decimal_places=7, max_digits=10, null=True)),
                ('geolocalizacion_validada', models.BooleanField(db_comment='Si coordenadas fueron verificadas')),
                ('fecha_geolocalizacion', models.DateTimeField(blank=True, db_comment='Cuándo se agregaron coordenadas', null=True)),
                ('fecha', models.DateField(db_comment='Fecha de última actualización desde Excel')),
                ('activo', models.BooleanField()),
                ('fecha_creacion', models.DateTimeField()),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'localfarmacia',
                'db_table_comment': 'Farmacias Cruz Verde. Geolocalización activa para inserción directa.',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Localidad',
            fields=[
                ('id', models.SmallAutoField(primary_key=True, serialize=False)),
                ('nombre', models.CharField(max_length=80)),
                ('activo', models.BooleanField()),
            ],
            options={
                'db_table': 'localidad',
                'db_table_comment': 'Localidades dentro de comunas',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Moto',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('patente', models.CharField(db_comment='PPU Chile: AA1234 o ABCD12', max_length=7, unique=True)),
                ('marca', models.CharField(max_length=50)),
                ('modelo', models.CharField(max_length=50)),
                ('anio', models.PositiveSmallIntegerField(blank=True, db_comment='Año fabricación', null=True)),
                ('propietario_nombre', models.CharField(max_length=100)),
                ('propietario_tipo_documento', models.CharField(max_length=9)),
                ('propietario_documento', models.CharField(max_length=20)),
                ('cilindrada_cc', models.PositiveSmallIntegerField(blank=True, db_comment='Cilindrada en cc', null=True)),
                ('color', models.CharField(blank=True, max_length=30, null=True)),
                ('tipo_combustible', models.CharField(max_length=9)),
                ('numero_motor', models.CharField(max_length=30, unique=True)),
                ('numero_chasis', models.CharField(max_length=30, unique=True)),
                ('fecha_inscripcion', models.DateField(db_comment='Inscripción Registro Civil')),
                ('fecha_revision_tecnica', models.DateField(blank=True, db_comment='Última revisión técnica', null=True)),
                ('fecha_venc_permiso_circulacion', models.DateField(blank=True, db_comment='Vencimiento permiso municipal', null=True)),
                ('fecha_venc_seguro_soap', models.DateField(blank=True, db_comment='Vencimiento SOAP (obligatorio)', null=True)),
                ('estado', models.CharField(max_length=10)),
                ('kilometraje_actual', models.PositiveIntegerField()),
                ('activo', models.BooleanField()),
                ('fecha_creacion', models.DateTimeField()),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'moto',
                'db_table_comment': 'Motos con documentación legal chilena completa',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Motorista',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('licencia_numero', models.CharField(max_length=20)),
                ('licencia_clase', models.CharField(db_comment='Clase A requerida para motos', max_length=5)),
                ('fecha_vencimiento_licencia', models.DateField()),
                ('emergencia_nombre', models.CharField(max_length=100)),
                ('emergencia_telefono', models.CharField(max_length=15)),
                ('emergencia_parentesco', models.CharField(max_length=50)),
                ('total_entregas_completadas', models.PositiveIntegerField()),
                ('total_entregas_fallidas', models.PositiveIntegerField()),
                ('activo', models.BooleanField()),
                ('disponible_hoy', models.BooleanField(db_comment='Disponibilidad del día actual')),
                ('fecha_creacion', models.DateTimeField()),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'motorista',
                'db_table_comment': 'Motoristas: especialización de usuario con licencia clase A',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MovimientoDespacho',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('estado_anterior', models.CharField(blank=True, db_comment='Estado previo', max_length=9, null=True)),
                ('estado_nuevo', models.CharField(db_comment='Estado después del cambio', max_length=9)),
                ('fecha_movimiento', models.DateTimeField()),
                ('motorista_lat', models.DecimalField(blank=True, db_comment='GPS motorista al momento del cambio', decimal_places=7, max_digits=10, null=True)),
                ('motorista_lng', models.DecimalField(blank=True, db_comment='GPS motorista al momento del cambio', decimal_places=7, max_digits=10, null=True)),
                ('observacion', models.TextField(blank=True, db_comment='Notas adicionales del cambio de estado', null=True)),
            ],
            options={
                'db_table': 'movimiento_despacho',
                'db_table_comment': 'INMUTABLE: Historial completo de cambios de estado. Geolocalización activa.',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='NormalizacionDespacho',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('fuente', models.CharField(max_length=50)),
                ('farmacia_origen_local_id', models.CharField(blank=True, max_length=50, null=True)),
                ('motorista_documento', models.CharField(blank=True, max_length=50, null=True)),
                ('cliente_nombre_raw', models.CharField(blank=True, max_length=255, null=True)),
                ('cliente_telefono_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('destino_direccion_raw', models.CharField(blank=True, max_length=255, null=True)),
                ('destino_lat_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('destino_lng_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('estado_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('tipo_despacho_raw', models.CharField(blank=True, max_length=100, null=True)),
                ('prioridad_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('numero_receta_raw', models.CharField(blank=True, max_length=100, null=True)),
                ('observaciones_raw', models.TextField(blank=True, null=True)),
                ('fecha_registro_raw', models.CharField(blank=True, max_length=50, null=True)),
                ('procesado', models.BooleanField()),
                ('error_normalizacion', models.TextField(blank=True, null=True)),
                ('fecha_creacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'normalizacion_despacho',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Oauth2ProviderAccesstoken',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('token', models.TextField()),
                ('expires', models.DateTimeField()),
                ('scope', models.TextField()),
                ('created', models.DateTimeField()),
                ('updated', models.DateTimeField()),
                ('token_checksum', models.CharField(max_length=64, unique=True)),
            ],
            options={
                'db_table': 'oauth2_provider_accesstoken',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Oauth2ProviderApplication',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('client_id', models.CharField(max_length=100, unique=True)),
                ('redirect_uris', models.TextField()),
                ('client_type', models.CharField(max_length=32)),
                ('authorization_grant_type', models.CharField(max_length=32)),
                ('client_secret', models.CharField(max_length=255)),
                ('name', models.CharField(max_length=255)),
                ('skip_authorization', models.IntegerField()),
                ('created', models.DateTimeField()),
                ('updated', models.DateTimeField()),
                ('algorithm', models.CharField(max_length=5)),
                ('post_logout_redirect_uris', models.TextField()),
                ('hash_client_secret', models.IntegerField()),
                ('allowed_origins', models.TextField()),
            ],
            options={
                'db_table': 'oauth2_provider_application',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Oauth2ProviderGrant',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=255, unique=True)),
                ('expires', models.DateTimeField()),
                ('redirect_uri', models.TextField()),
                ('scope', models.TextField()),
                ('created', models.DateTimeField()),
                ('updated', models.DateTimeField()),
                ('code_challenge', models.CharField(max_length=128)),
                ('code_challenge_method', models.CharField(max_length=10)),
                ('nonce', models.CharField(max_length=255)),
                ('claims', models.TextField()),
            ],
            options={
                'db_table': 'oauth2_provider_grant',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Oauth2ProviderIdtoken',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('jti', models.UUIDField(unique=True)),
                ('expires', models.DateTimeField()),
                ('scope', models.TextField()),
                ('created', models.DateTimeField()),
                ('updated', models.DateTimeField()),
            ],
            options={
                'db_table': 'oauth2_provider_idtoken',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Oauth2ProviderRefreshtoken',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('token', models.CharField(max_length=255)),
                ('created', models.DateTimeField()),
                ('updated', models.DateTimeField()),
                ('revoked', models.DateTimeField(blank=True, null=True)),
                ('token_family', models.UUIDField(blank=True, null=True)),
            ],
            options={
                'db_table': 'oauth2_provider_refreshtoken',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Region',
            fields=[
                ('id', models.SmallAutoField(primary_key=True, serialize=False)),
                ('codigo', models.CharField(db_comment='Código INE', max_length=5, unique=True)),
                ('nombre', models.CharField(max_length=50)),
                ('activo', models.BooleanField()),
            ],
            options={
                'db_table': 'region',
                'db_table_comment': 'Regiones de Chile',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Rol',
            fields=[
                ('id', models.SmallAutoField(primary_key=True, serialize=False)),
                ('codigo', models.CharField(max_length=20, unique=True)),
                ('nombre', models.CharField(max_length=50)),
                ('django_group_name', models.CharField(db_comment='Nombre del Group en auth_group de Django', max_length=150)),
                ('descripcion', models.CharField(blank=True, max_length=200, null=True)),
                ('activo', models.BooleanField()),
                ('fecha_creacion', models.DateTimeField()),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'rol',
                'db_table_comment': 'Roles de negocio mapeados a Django Groups para permisos',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='SocialAuthAssociation',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('server_url', models.CharField(max_length=255)),
                ('handle', models.CharField(max_length=255)),
                ('secret', models.CharField(max_length=255)),
                ('issued', models.IntegerField()),
                ('lifetime', models.IntegerField()),
                ('assoc_type', models.CharField(max_length=64)),
            ],
            options={
                'db_table': 'social_auth_association',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='SocialAuthCode',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('email', models.CharField(max_length=254)),
                ('code', models.CharField(max_length=32)),
                ('verified', models.IntegerField()),
                ('timestamp', models.DateTimeField()),
            ],
            options={
                'db_table': 'social_auth_code',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='SocialAuthNonce',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('server_url', models.CharField(max_length=255)),
                ('timestamp', models.IntegerField()),
                ('salt', models.CharField(max_length=65)),
            ],
            options={
                'db_table': 'social_auth_nonce',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='SocialAuthPartial',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('token', models.CharField(max_length=32)),
                ('next_step', models.PositiveSmallIntegerField()),
                ('backend', models.CharField(max_length=32)),
                ('timestamp', models.DateTimeField()),
                ('data', models.TextField(db_collation='utf8mb4_bin')),
            ],
            options={
                'db_table': 'social_auth_partial',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='SocialAuthUsersocialauth',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('provider', models.CharField(max_length=32)),
                ('uid', models.CharField(max_length=255)),
                ('created', models.DateTimeField()),
                ('modified', models.DateTimeField()),
                ('extra_data', models.TextField(db_collation='utf8mb4_bin')),
            ],
            options={
                'db_table': 'social_auth_usersocialauth',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Usuario',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('django_user_id', models.IntegerField(db_comment='FK a auth_user.id de Django', unique=True)),
                ('tipo_documento', models.CharField(max_length=13)),
                ('documento_identidad', models.CharField(max_length=20, unique=True)),
                ('nombre', models.CharField(max_length=80)),
                ('apellido', models.CharField(max_length=80)),
                ('telefono', models.CharField(blank=True, max_length=15, null=True)),
                ('activo', models.BooleanField()),
                ('consiente_datos_salud', models.BooleanField(db_comment='Ley 19.628: consentimiento datos sensibles')),
                ('fecha_consentimiento_salud', models.DateTimeField(blank=True, null=True)),
                ('fecha_creacion', models.DateTimeField()),
                ('fecha_modificacion', models.DateTimeField()),
            ],
            options={
                'db_table': 'usuario',
                'db_table_comment': 'Extiende Django User con datos de negocio. Permisos via Django Groups',
                'managed': False,
            },
        ),
    ]
